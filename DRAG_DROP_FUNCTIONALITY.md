# Drag and Drop —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è CSV –∏–º–ø–æ—Ä—Ç–∞

## –û–±–∑–æ—Ä
–î–æ–±–∞–≤–ª–µ–Ω —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π drag and drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ CSV —Ñ–∞–π–ª–æ–≤ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å Ninja Goods.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéØ Drag and Drop –∑–æ–Ω–∞
- **–í–∏–∑—É–∞–ª—å–Ω–∞—è –∑–æ–Ω–∞**: –ë–æ–ª—å—à–∞—è –æ–±–ª–∞—Å—Ç—å –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- **–ê–Ω–∏–º–∞—Ü–∏–∏**: –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**: –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è

### üìÅ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã
- **–§–æ—Ä–º–∞—Ç**: –¢–æ–ª—å–∫–æ .csv —Ñ–∞–π–ª—ã
- **–†–∞–∑–º–µ—Ä**: –î–æ 10MB
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: UTF-8
- **–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏**: –ó–∞–ø—è—Ç—ã–µ

### üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- **Hover —ç—Ñ—Ñ–µ–∫—Ç**: –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
- **Drag over**: –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏
- **Error —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –ö—Ä–∞—Å–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ
- **Shake –∞–Ω–∏–º–∞—Ü–∏—è**: –ü—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Frontend (Vue.js)
```typescript
// –°–æ—Å—Ç–æ—è–Ω–∏–µ drag and drop
const isDragOver = ref(false)
const dragError = ref(false)

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
const handleDragOver = (event: DragEvent) => {
  event.preventDefault()
  isDragOver.value = true
  dragError.value = false
}

const handleDrop = async (event: DragEvent) => {
  event.preventDefault()
  isDragOver.value = false
  
  const files = event.dataTransfer?.files
  if (!files || files.length === 0) return
  
  const file = files[0]
  if (!validateFile(file)) return
  
  await processFile(file)
}
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
```typescript
const validateFile = (file: File): boolean => {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
  if (!file.name.toLowerCase().endsWith('.csv')) {
    dragError.value = true
    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ CSV —Ñ–∞–π–ª (.csv)')
    return false
  }
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ MIME —Ç–∏–ø–∞
  if (!file.type.includes('text/csv') && !file.type.includes('text/plain') && file.type !== '') {
    dragError.value = true
    alert('–í—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –Ω–µ —è–≤–ª—è–µ—Ç—Å—è CSV —Ñ–∞–π–ª–æ–º')
    return false
  }
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞
  if (file.size > 10 * 1024 * 1024) {
    dragError.value = true
    alert('–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 10MB')
    return false
  }
  
  return true
}
```

### CSS —Å—Ç–∏–ª–∏
```css
.drag-drop-zone {
  border: 2px dashed var(--border-color);
  border-radius: var(--radius-md);
  padding: var(--spacing-xl);
  margin: var(--spacing-md) 0;
  text-align: center;
  background: var(--bg-primary);
  transition: all 0.3s ease;
  cursor: pointer;
  min-height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.drag-drop-zone:hover {
  border-color: var(--accent-blue);
  background: var(--accent-blue-light);
}

.drag-drop-zone.drag-over {
  border-color: var(--accent-blue);
  background: var(--accent-blue-light);
  transform: scale(1.02);
  box-shadow: 0 4px 16px rgba(0, 122, 255, 0.2);
}

.drag-drop-zone.drag-error {
  border-color: #FF3B30;
  background: rgba(255, 59, 48, 0.1);
  animation: shake 0.5s ease-in-out;
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. **–û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**: http://localhost:5173
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–¢–æ–≤–∞—Ä—ã"**
3. **–ù–∞–∂–º–∏—Ç–µ "üìä CSV –æ–ø–µ—Ä–∞—Ü–∏–∏"**
4. **–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ CSV —Ñ–∞–π–ª** –≤ –∑–æ–Ω—É drag and drop
5. **–ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ "–≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª"** –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
- ‚úÖ **Drag and Drop**: –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- ‚úÖ **Click to Select**: –û–±—ã—á–Ω—ã–π –≤—ã–±–æ—Ä —Ñ–∞–π–ª–∞
- ‚úÖ **Template Download**: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
- ‚úÖ **Export**: –≠–∫—Å–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤ –≤ CSV

## –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–π–ª–∞:
- ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ**: –î–æ–ª–∂–Ω–æ –±—ã—Ç—å .csv
- ‚úÖ **MIME —Ç–∏–ø**: text/csv –∏–ª–∏ text/plain
- ‚úÖ **–†–∞–∑–º–µ—Ä**: –ú–∞–∫—Å–∏–º—É–º 10MB
- ‚úÖ **–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –±–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã

### –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö:
- ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ**: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ CSV —Ñ–∞–π–ª (.csv)"
- ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø**: "–í—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –Ω–µ —è–≤–ª—è–µ—Ç—Å—è CSV —Ñ–∞–π–ª–æ–º"
- ‚ùå **–°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π**: "–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 10MB"
- ‚ùå **–ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞**: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: ..."

## –£–ª—É—á—à–µ–Ω–∏—è Backend

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π:
```php
if (!$categoryId) {
    $results['errors']++;
    $results['details'][] = [
        'row' => $rowNumber,
        'status' => 'error',
        'message' => '–ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ category_name –∏–ª–∏ category_id. –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: ' . 
                     Category::pluck('name', 'id')->map(function($name, $id) { 
                         return "$name (ID: $id)"; 
                     })->join(', ')
    ];
    continue;
}
```

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω CSV:
```csv
name,photo_url,description,unit,price,min_order,category_name,category_id
–ú–∏–∫—Ä–æ–∑–µ–ª–µ–Ω—å —Å–∞–ª–∞—Ç–∞ –ê–π—Å–±–µ—Ä–≥,https://example.com/image1.jpg,–ù–µ–∂–Ω–∞—è –º–∏–∫—Ä–æ–∑–µ–ª–µ–Ω—å —Å–∞–ª–∞—Ç–∞ –ê–π—Å–±–µ—Ä–≥ —Å —Ö—Ä—É—Å—Ç—è—â–∏–º–∏ –ª–∏—Å—Ç–æ—á–∫–∞–º–∏,—à—Ç—É–∫–∏,150.00,1.00,–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–ª–µ–Ω—å,1
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```json
{
  "success": true,
  "data": {
    "success": 3,
    "errors": 0,
    "skipped": 0,
    "details": [
      {
        "row": 2,
        "status": "success",
        "message": "–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω"
      },
      {
        "row": 3,
        "status": "success", 
        "message": "–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω"
      },
      {
        "row": 4,
        "status": "success",
        "message": "–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω"
      }
    ]
  }
}
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- üöÄ **–ë—ã—Å—Ç—Ä–æ**: –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª
- üéØ **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ**: –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ**: –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üì± **–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**: Apple-—Å—Ç–∏–ª—å –¥–∏–∑–∞–π–Ω

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:
- üîß **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ**: –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- üé® **–†–∞—Å—à–∏—Ä—è–µ–º–æ**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤
- üêõ **–û—Ç–ª–∞–∂–∏–≤–∞–µ–º–æ**: –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- üìä **–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º–æ**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### –ë—Ä–∞—É–∑–µ—Ä—ã:
- ‚úÖ Chrome 60+
- ‚úÖ Firefox 55+
- ‚úÖ Safari 12+
- ‚úÖ Edge 79+

### –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:
- ‚úÖ Desktop
- ‚úÖ Tablet
- ‚úÖ Mobile (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏)

## –°—Ç–∞—Ç—É—Å
‚úÖ **–ó–∞–≤–µ—Ä—à–µ–Ω–æ**: Drag and Drop —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ**: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ**: –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ**: –í –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å Apple-—Å—Ç–∏–ª–µ–º
